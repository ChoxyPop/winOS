{"version":3,"sources":["apps/notepad/assets/notepad.png","apps/notepad/assets/text.png","apps/notepad/TextArea.tsx","apps/notepad/NotepadMenuBar.tsx","apps/notepad/NotepadWindow.tsx","apps/notepad/index.tsx","misc/hooks/useUuid.tsx","widgets/menubar/MenuBar.tsx","misc/openDropdownMenu.tsx","widgets/menubar/MenuBarMenu.tsx"],"names":["module","exports","TextArea","styled","textarea","attrs","autoComplete","autoCorrect","autoCapitalize","spellCheck","props","wordwrap","NotepadMenuBar","window","useContext","WindowContext","MenuBar","MenuBarMenu","label","onClick","destroy","disabled","NotepadWindow","path","fileSystem","OSContext","useState","readFileSync","toString","contents","setContents","useEffect","writeFileSync","flag","Fragment","defaultValue","onChange","e","currentTarget","value","NotepadApp","args","a","nodePath","BFSRequire","fileName","basename","windowSize","width","Math","min","innerWidth","height","innerHeight","this","os","windowManager","create","title","metadata","name","icon","rect","left","max","top","minSize","body","fileExtensions","textIcon","useUuid","useRef","uuidv4","current","children","rest","activeMenu","setActiveMenu","menuId","childrenWithProps","React","Children","map","child","id","cloneElement","active","onMouseDown","openDropdownMenu","mouseDown","onMouseOver","mouseOver","stopPropagation","onMenuHidden","Anchors","Center","x","y","TopLeft","TopRight","BottomRight","BottomLeft","event","anchor","buttonRect","getBoundingClientRect","clientX","clientY","eventManager","emit","DISPLAY_MENU","StyledMenuBarMenu","div","className","classNames","onHidden"],"mappings":"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","file":"static/js/11.5f32a413.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAO5klEQVRo3rWZe4wd1X3HPzN37vu1u/feffvB+rF+IEzYJdRgZFtVK0JZgghV5AaFlohVqIDSAE0UtUEirVCrWpXatKQolVI1EU2hDakxIEGLKcTmse4a4q7ZXT/W9u5d7/u+HzNzzukfM/fueu1d1iQ5V6Mz98zRzPd7zvf3/Z0zA7+C0tM/oK2pY/+H2lXPfx2lp39A6+kf8PX0D3hXuKYt+R/86+/98M9H3vi2eP/QM6We/oEtAI/85dH9p975gXr75WfVPd88ejvAXU/+fNv4m/epyROdauDFr6mb+z8I/zI4rzoKPf0D3puax5567Laf/8V8JsN3D98YefNHf1TsfeA/t//kq0eHvMmXMHOt3P83d99Y9jQPf/03hspf2vcG83accCDNl79z7y3C15J84bEXDxMexu+D7PnP8eD3Nv3xc/eNPuBpK9z4i4v72XP9T3n2++v3T2SCU8A0kD106JD9SxPY+/CRf/rBgaceLJY8hGMTBGhh3a0D2gevPaM6Wg/y4amn2Nb+LyzMJnju3S/x+P5/QPh2M20foEV7GGnv4r8/2sdtN0xzZraXRPI6btrcy+DJf2X0UpRL4zYYjWxN/Adx433++a3kQ8C7wAWgfOjQIbVWAsYVjPo/ePi792TufefYjTRuexR92qZn4028/OOX1M/+ywK+Tyy1ieMnNvH1rxwg9Prj/N3Lf0+xaKHris7Y79F//0GGzvwhw2M73bvOEti7kbGx17lUfpBkaxC/30Opuofbdz0Pb/3mTuAsMANUAfGZCDz0py+pRrPIcz80EeJuwp+kAfDdtp7x8VeoqN8HoDJdwmc0U8nC5o0KX6yZ5uYQAN7SGdLnm7nzzusue1AyEGJu27dI7u6GY8MYhs7uG1o5eaQZoA1IAYGVVLEmAm2tLVQu2Nxxxzpa1zXW25vmQ5zL7Od3H9272HbhCJUJ2L1/D3S3s7Fa4Omnj/LI7/wtx4f2EL6/G4CJl44TzfwZ2q5Rgt48ZYDd3fzs8WfYYj+NP3UQOBIBooAf0Pv6+rS1yki/WqPPp/OWZx0fDU5z6vDX8GlnuOGWnvr1Zx/4MZmPfouh03dAdzsAx45NYs69h5kfJ7H96XrfXbtSBJrvpK3nKOXe3nr7F79ygCfnx3k98Q2AMBACfCthuiYCtaKA4clemm46irZ9Z739qW/vR99yjPb7X6u3jV5v89iTd3J2b4VKz/Z6++yW9fjufoS39N7L7m3fvKV+7m/qSABNLhGDa5CRsdrFux7qIfNADxeWtAkFcks7Va39iv6DbRto0Jw+niUQsqbTZkuwFcxkTWYzVZQVBCC29da2mfdebAMSODIq/0oInFuAxiVpxhQuEOXUQoGQTg1gycU+S68XRImiKCEUVIRJzpNFNoHmjQEQ6eqNuQRagQiQZ41OtCqBybxDwHZBSgV5u0RelBASqtJkwc4iJExXZxhTaTz4kEBVmGj4kAo0vIT0OMI9D2opBFCs2Og6hDq2+zzBWJso5zqABmCmr6/PWksgr0jgvfwxBsoWt3s1KtLEg69OotFIYkvnvMFIIXTQKHKdbwNxI1XvZy+ZIbHsvw0IcxaPAdKE+LY9nfODr3a6MroAVHDC8LMRuKezm0vZJnb4IOi9UjLLZeRRM1QFmPrloGvXbdxaQdEuURIlithUFHiAaFdvw/zgq21AC04wFwD5mQn0Jpt4JQuzRWiOOiO6FNTy0a3YYIksFamRtTJUpYVQMGvNIiXOLGo+bAk6XoJ6HC3iR2qgaRDp6g14grF2V0ZxYK6vr8/+NBmtSGBHAn4yWuKTTBHbp7GwBNS0OVuPAV3zISXkrCJxI0VRWPgIEdYbsBVsC2xGx1ufMXsJ6Y+nZslVIaw5KTi+7fZ184OH1wFJII2zrPhsBL55vp9x+1681Q34IxDyhIjoDQgJraHNaMqLYHEWfpE/RZORpNGNAbEEsLVEcksJWK5AqgoCGkS7eprmBw934LjRmbXIaEUCz3c/zysGvDMBzUDIcO5UA31FgLoWWtUW22bNWYSCgihSEiWq0iJjZ5ESTGnia3EG23ZRRrp6A0Yo3mGXsp1rldGqNroj6RAoVsHwLjrLgpWlIiwq0iRjZREKzpfTQBoN6vYZ0uPoeF0bTeHXoT14A1KBlIqjU3POg5TEVBDQdWLde9bPDx5ev1YZrTwD6edRwGBpJ+W8IGFpVIWJjo+AHsKnhRAKGjyOZEJ6kTbvBhq8KSfg3VmSS+QjpUIIiZIKpRTYNlQroBRVXSfg91+zjFYksDW0lYgnSrWjk4mFFsJB0PTLNSyWAFVihoru2Khc4lRSglSKsihStguURZGKXcCSJr6EH1QclMI2TaTXe80yWpHAvoZ9KECm4N8XoFIF3efqHuqJrKb/vCgCXqbMWaSCrJXBkia2MDHcX0SPoZQkridBV0ynJWw3QTnYTMsi4Pdfk4xWjQGA7U2QtTOYtkXRKlEQJQrucqIq3AwNVGwT2wPNRisGBq2+dgJasC4XpZR77koIBfaMA145U1UtFq8mo9OryWhFAv3D/U58AdPqyyirHaW8RI0UcZ+XsLu2kQqUVIyUh2jSEzR6EijpgFJSuB1qIBUoScHKYMsqHl8VrBgIZ91mA1IIIl29AZyM3ImzNppfSUar2qhypXI0DK+cgYruLFCkAlssjipKgmWBxwYEZbtIWRQuqyvC0b2hDAJaEL8WRDeMOniEACkxi0UCsRjx7Xs3Zk+9vQ5nnzC+kow+VUIA18WdWpcglcQUJllrAUuajtZFlSkzzYQ8S1ALYmAQ1eMYeGjUG0kaKSK++KJ8XEmlZ6ccJxKLK+dqoUAgFiO6qbcpe+rtdtw0BBSvJqMVCRzPH0cBH+aOkxd5Bso7KZgGeVsDpUh4Em6dRHkkhg5N3gSNRtKxyGV6V8JelJOUTm1al8+AENjlMjKVItJ1c9AF3w7EgIW+vj6xXEYrEjiSOULEE2VrcCthT5TOjT0MTkHeNDFt+7KgBMWcmMT1p8s0XxFFSnaBvJ3BliYL5jS2rGJg4G9PgBlbJOQWq1jE39CgxXfs25gdOrIOZ4k9CZjLZbQigSfWPVGPAQX4qjA4BYamYQpx2UiWRJGymWVCZZnTL7FgTjt6x8BQHqJ6HL8WJKI10hHYgAcDJSXHzk7CZncGpHQOITAzGfwNDUS7epPZoSOdbkCfBUrLZbSmGABojKbJihDT1jQzhTnmqg5Ir+vxlqjS5EnQqDWyIbgBA2NR71IuzphUKCUWR922r5gBc2EBtW4dka7eEI6V1pbYmeUyWpHAwYsHGS4Nk65O0uZrI+yJogfvw2+302wkuc7jgnTlMpI/SZPWSKPW6DqTqKXhuqQy7swUrAUKIoM/FQQRdR6oVD0OUApzfh5/KqXFd+zryg4dWb+SjFbNxN9Y90RdQkLBsQC8ehZKwTzlQtEZySWJCCEoqzxlu0DOzlC2i+TthXo2DusxDDzE9STN3g4Gx3OwTdQttF6Uwpybw59KfaqMViTQE+25wnS3NTkEvF4f45UzWMIkay+QszLkzHmmOE9QDxHVYwS1IBE9xdbAtqtnYqmgWnXyR20G3EFAKWSpBPCpMlo1BtLVNOPVSUZcKY2WhzlZ3odudSIqeQylk/Ak6PC3My7OuRua5GImVhIlxFUzcUUU8DYV0LQkRjCINxZDDwTwhMMYkchyKE0ugQYW10arz8CBoQO0+drZEuym1dfG7Q3dPNr5BK964L005EuXqBaLdc/HtgEbtMXlQ95aoCwK5K0MeTtDJJpC+CAUbSTRsJNY2UvT5zuveHZl+pyqTJ9TVn5G5kffL7s4Izg7Tx3nzd3qM/DCjhcus1GhnLq7ySHgDYWo5nIgFTlrgbKVZ8LKM1YaQTcMpAGpho3EwxtIBnYRj7TVJancew3nz1K8eFKVLp5UVm5alKfPWZWpM5YzEpg4K5e8O+qz7n+5piC+WjldHmGCNOfMJDMqw8T8CYKhOGF/HC0coy3axfp4N4YRQLlPqYHtiEHYB8kQNAYhEYJXv/OKGjvzpukGZgbI4iwZii7wDDAPXAKG3dpcimnVTDxcGmG4NMxkNU3YE6XV106Lr53PN2/m/FwXN9+ypz4co+VTNBpJkuEAyTCkQg7IiA+UN825yghjlRGGKsNcmB0h4W0j1NUIWcrAReAUcA7nI8eCCz6/hEytzVpTHhgpjdAT7eELTXfR6muvS0goGAvCyyWIBRygMT9EKh/zuUQLQT3K2cow/1seYTqXpijyJL3trPd3sy3Yw62xu2g02lHAHcd+pNhxqoBjj/8DnHSlUnTlYrpyctco2IcOHVpbJu5v778sBpaWDXH4ws4RLplpRssjvFEYYMqa5JOpCLfE9pP0trGvoY/toR5nzwBkCjA5D2+ftJiYMilZHjbtvlEj+29VVyZjOJuXBRewqKkQ4Jq3lLVSEHmGSyMcLxxnsppmtDwMwKZgNy3edm6I9PDF5AF+OvsCO0M9dAd7SM/BxUn4x5MmUxkNUzrLCjSwqwIzN6XEwpBK5F8q41hiyR31ElBdPsqrlVV3ZHmRJ+KJclOkly3BreyJ76MrsLUupdk8TMzBW+OSj8d+m4FcC0oqhC3RPBqiYlLNTih79v9UwPzQlrlRE2laGtgGWDhbxQlgyiVgw6e/0F0TgYObDxLxRJ2PEhLGZmBsHN4YE5ybgvmSjrQlQkh0jwdhNVDNnlZybkj6KidsmRu1kKalg+0DUzofLfJAzq1rznMe+AjnO7F1LeBXJfAH33p3SAskuvTIRj/eqIZVUKCheSOaMrNKZD9RMn9aytxpW+ZPm4iqrYOtXwm24B5ZHIe5BMy5bTUS0zhxsKZvAisS+KR0fctGTkwBeJK9HRhhH1ZOytkBS+ZOS5EfFTI3aiKqbtql5uE1kDUPz7hgp1xgtWt5Fr2+5jC1+9jXov2rEii/89XZQ6U/OTCaPRIW8yf2KjOzGWk6bwudvoLFYCux6M9z7pFZQqImleVgLfc+NbCrusw1S2hz6K9es9PswPnwXHIfUPPhogt0fpk8akd5Gdiah/9KwK6FgHIBpIH3gSEXgOW2l5eM8NXAyl8n2KuV/wenqQqV3DG39wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAJBUlEQVRo3u2Zf3AU5RnHP+9dSEhycAdBGAjJXlQKDuQHjlWU5BKrRbGorTOKUyQDatuhFeiUUVCLYztiW53WGe0MtTPqqHXodKQVK5XfkouZEUHxLtAZEkK4owkkYtjNXe6Sy2Xf/rG7lzuCugdcZ9rpO7Nzd+/ue/v9Ps/zfZ7n3YX/8uH8T97s9w9Rsaia666cxsDBDoYAue13rFu1gp9XlVKw8wCdwAig5wTASw9y7Ydvs2nzz3gEcAN5Lz3ItR9vxb/rj+xYtYhFgOv1x3j4k22oB7ci33ia14HprzzK0sB25Cfv0t+yhciiaha9uZHnDm1De+UX/C2wHXn/TfwUmJ6NYUU21qu7hxMDcdqKiind/R5b/7KT3764Cf+ZMwSKXHidgqKO4ZefnpP/o1919/qOnI6Warcs2HL7vo9++I/JxdH5xVPmxP8VXSDmTXmyore35Fzf8LL8c9GiYlEwbXBG3gYxFP3wn6ueYR1wCIjYwWWL6Y4d7c/oDs+6pLhx0vHIM/HQ8UmFtbUfVZVcvf3uA59eN00veVbpUpe6K71vFO364Dt3HAytKTjxha+s+1zV1WVTWtEik2e1tD0woaOrbFJPD5NEootpU44XHjqxND82VEgspudNKgznlZfGStwzN3gOHdr9MdBvJ5Ty7BDYv7/7yd7eWpJJnby8hGuCmEFtNRzrGF/uHDefzs5+wIGzEqaWjFAzuzS11lVYgKu4gBUr5gLQ1zdIqdNF58mZLF06m1mzPOzddZRSztLRNT//oYduW7B582PXAGeBL74Om8MOASklCxZM5YHGa/jWrWVUzxtPNOKi4eYyVq+t4c67ruT22rP098CseXNZuXIus2dPov3AKxQm2xkcnsfNN5dRUjKepndeRD/7B/r6v8mNN06nuzvKp+8/z2BfEyXKCpxOPR9QAJcdbLYIAEyYkEdd/Qz2btvNN4rWcKzDh69hJooykR3vd+II30tnz11cX3stAD09MZwjXUTl/Xxv5Q8AmDatmMkz60mW7WHZmscBqKq6glsbn6Py3h6W3LcYKaUAxtuNDltj/fr9csuWVhkfTsiXNzfLV198VfacHZBDyaRMjIzIY+19cutf26QudXmpIxKJJID1wFV2sGXFUpeSxodvQIgbMsKr4ko3V13lRkqJELYT2wVHUiazut52CAFI65DW79EkoUvjnC4vrQbFkrGsrrftAelMmgAlLX4/zX4/oVCI0MkQAJqq4vF42PfBvkvyxMRxE3NDQM8fGv2O4YWqqmqWNzYCIBDUNzSgS3AImZrL9bBNwBkvBimRQlDn8+Hz+XAIgWVogQMpJQiBxGB4MV5QE2puCBiYDFCqqtIaDCKAfk0jGAgA4PVWsLyxER2BQxh6cIisZIYn35MbAiOufoOErvPWm2/y3rvvps7V19cb55CpOV2CU3BZMtNlIeCIF6FLiUMIVj3yCD9evToV4U4ToPEhMSJJXJQeosPRrAjY9q8YMbhKKQ0Fy1F763LU8tasNM9La41dizqyK8C2Cej5QxmALFDWnC7lmPogpcy6Pox3js8NAWvI9EPXx86lSGTqwSL0dSPbSmxfA4mCDEFa39PndClxCmFqwADbtL8JhCB88iThkFH0mpqaAKipqeGFF17IuE/OKvH5XmjxNwNwpDWIpmloqkZr0EinwUAQTVUBqK6uxu3x4PF4qKmpQQBr167FY86dP3JaiSVGQAsh+PWmTQCUK+Uoihe3x83jGzciAEVRqPB6M4ocGOscwtjHfll9GJEjuSHgSBSMekBK/r5zhwnOACYA4XCk5qTpKiEMPWiqRtAsfs1mCDU0NNDQ0JBxn3gynhsCWKCQCDJjPxgI0K9phENhToXDADT7mxAIAoFAKpx8ZsGrrqlh8gXCB8A1ztZGLHsCev6QKU5QNZW7b1tMazAIQLmiUK4oeNxuKqurEULwk9WrcXs8VHi9KIqCEJmhZIRRVlgv3QNgpES3282m539DbZ0v5QVBWjgJAVZYZXhQTzV9fr+fCq+C1+vN0MNAciA3BAwNSMBIkwvr6gxQVjo1r9NUlSPBIAgHrcEAmqoRDoUIh0JoqkrAbPwUr5eNTz3FyhXejHAscBbYhXRxHgBJOHSKP7/1JwTQGmylX1MJh8KpPF/r8yGAcq+ConiprK5ieeNyQFDf4MPyzYX6pTyRHaSsulFLA6NyhjvuXJIZ/5bHrDBKCyWHWeQQo4kAiwSGFxJ6IjcEnFGjwEgJZUo5jz7xhAmUlPUsUgIztCyfpVVqh1XJ0/RgbYIuZj+d5aZeZvyyCKVmzmvw5JfOjf0/q+nLNoRsExhx9Y8BYEGQZLbRYwjp6U8vZNp/mCvlqDGyrcT29wOJAmMbMMbycoxF5QX2CheeGzWBdX5wJEcaSG8ldCRd4VOcCoVAwCmzAgtgoa+O2jofln0vpAfB+XoYFXWhszA3BFL2NjPRdxcvprxcAWCix01lVVWmQs6rD9bi9LnMfskQdTJXzZylAWGSOHj0CMLK6KlyK1LN2/n9UoqQriMcjtQuzmEsSK0bTA5mRcC2BlJpNM0T6XrQNI2W5mbCJ8PmdV+tB8bMGauKxxXlhkD6jSXw1PoN3HrTQqa6JjDVNYGrZ8zk+U3P0tLsH91CpgWQTP+Pr3go0Nbe1p8NpqwfLVqhcN+yZdy+ZAkLfbVWY0D64x+jRSBjjR09dHd1xTDeVNp6lGGLQCIxHAVc6ZljblVlSg9Y7YUUaa3G2LbBAny8rS0aj8UThw4e/HwgGo1/dvjw5+1tbX2Bzz77AlCBTsBWW2qLQEdH63PXX//tX1rWBFJgMkmQEmTPmdODvT29sfZjx9SBgehQ835/t6aqkX179pwBYhhvISOAhvFCL5L2edYk8rXD7pbiitdeO3D0lntmX5G+hYzFYskT7ccjPWdOD/ScPh35sMkAuX/v3jNA3LRiOrB0sHFgCBgEEuYxBAxjM3xsewA4d/iwf30y//j3W5qaHGpf3/A7b78dMm+eDlIzLdcPRNNAWuCsY5jL9DY+m02dB5gDlGKIzLKoBdI6Bi83yMtFwAkUAgUmAcuq2ZXO/4//sfFvLEfkTBmn64sAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDMtMTlUMTA6NTc6NDErMDE6MDC5nGpdAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDExLTA2LTE1VDE3OjA4OjQ0KzAyOjAwVYjbTQAAAABJRU5ErkJggg==\"","import styled from 'styled-components/macro';\n\nexport interface TextAreaProps {\n  wordwrap?: boolean;\n}\n\nexport const TextArea = styled.textarea.attrs({\n  autoComplete: 'off',\n  autoCorrect: 'off',\n  autoCapitalize: 'off',\n  spellCheck: false,\n})<TextAreaProps>`\n  flex-grow: 1;\n  overflow-y: scroll;\n  overflow-x: ${props => (props.wordwrap ? 'hidden' : 'scroll')};\n  white-space: ${props => (props.wordwrap ? 'normal' : 'nowrap')};\n  font: 'Lucida Console' 10pt;\n`;\n","import React, { useContext } from 'react';\nimport { MenuBar } from '../../widgets/menubar/MenuBar';\nimport { Item, Separator } from 'react-contexify';\nimport { WindowContext } from '../../windows/WindowManager';\nimport { MenuBarMenu } from '../../widgets/menubar/MenuBarMenu';\n\nexport const NotepadMenuBar = () => {\n  const window = useContext(WindowContext)!;\n\n  return (\n    <MenuBar>\n      <MenuBarMenu label=\"File\">\n        <Item>New</Item>\n        <Item>Open...</Item>\n        <Item>Save</Item>\n        <Item>Save As...</Item>\n        <Separator />\n        <Item>Page Setup...</Item>\n        <Item>Print...</Item>\n        <Separator />\n        <Item onClick={() => window.destroy()}>Exit</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"Edit\">\n        <Item disabled>Undo</Item>\n        <Separator />\n        <Item disabled>Cut</Item>\n        <Item disabled>Copy</Item>\n        <Item disabled>Paste</Item>\n        <Item disabled>Delete</Item>\n        <Separator />\n        <Item disabled>Find...</Item>\n        <Item disabled>Find Next</Item>\n        <Item>Replace...</Item>\n        <Item>Go To...</Item>\n        <Separator />\n        <Item>Select All</Item>\n        <Item>Time/Date</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"Format\">\n        <Item>Word Wrap</Item>\n        <Item>Font...</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"View\">\n        <Item>Status Bar</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"Help\">\n        <Item>Help Topics</Item>\n        <Separator />\n        <Item>About Notepad</Item>\n      </MenuBarMenu>\n    </MenuBar>\n  );\n};\n","import React, { FC, useContext, useState, useEffect } from 'react';\nimport { OSContext } from '../../App';\nimport { TextArea } from './TextArea';\nimport { NotepadMenuBar } from './NotepadMenuBar';\n\nexport interface NotepadWindowProps {\n  path: string;\n}\n\nexport const NotepadWindow: FC<NotepadWindowProps> = ({ path }) => {\n  const { fileSystem } = useContext(OSContext)!;\n  const [contents, setContents] = useState(() => {\n    try {\n      return fileSystem.readFileSync(path).toString();\n    } catch {\n      return '';\n    }\n  });\n\n  useEffect(() => {\n    fileSystem.writeFileSync(path, contents, {\n      flag: 'w+',\n    });\n  }, [path, contents]);\n\n  return (\n    <React.Fragment>\n      <NotepadMenuBar />\n      <TextArea\n        wordwrap\n        defaultValue={contents}\n        onChange={e => setContents(e.currentTarget.value)}\n      />\n    </React.Fragment>\n  );\n};\n","import React from 'react';\nimport icon from './assets/notepad.png';\nimport textIcon from './assets/text.png';\nimport { Program } from '../../Program.interface';\nimport { BFSRequire } from 'browserfs';\nimport { NotepadWindow } from './NotepadWindow';\n\nexport const NotepadApp: Program = async function (args) {\n  const [path = '/C:/test.txt'] = args;\n  const nodePath = BFSRequire('path');\n  const fileName = nodePath.basename(path);\n\n  const windowSize = {\n    width: Math.min(window.innerWidth, 300),\n    height: Math.min(window.innerHeight, 200),\n  };\n\n  this.os.windowManager.create({\n    title: `${fileName || 'Untitled'} - ${NotepadApp.metadata.name}`,\n    icon: NotepadApp.metadata.icon,\n    rect: {\n      left: Math.max(0, window.innerWidth * 0.2 - windowSize.width / 2),\n      top: Math.max(0, window.innerHeight * 0.3 - windowSize.height / 2),\n      ...windowSize,\n    },\n    minSize: {\n      width: 120,\n      height: 100,\n    },\n    body: <NotepadWindow path={path} />,\n  });\n};\n\nNotepadApp.metadata = {\n  name: 'Notepad',\n  icon,\n  fileExtensions: {\n    '.txt': textIcon,\n  },\n};\n","import { useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function useUuid(): string {\n  return useRef<string>(uuidv4()).current;\n}\n","import React, {\n  useState,\n  ReactElement,\n  DOMAttributes,\n  FC,\n  HTMLAttributes,\n} from 'react';\nimport { useUuid } from '../../misc/hooks/useUuid';\nimport { openDropdownMenu } from '../../misc/openDropdownMenu';\nimport styled from 'styled-components/macro';\nimport { MenuProps } from './MenuBarMenu';\n\nexport interface MenuBarProps extends HTMLAttributes<HTMLDivElement> {\n  children:\n    | ReactElement<MenuProps & DOMAttributes<any>>[]\n    | ReactElement<MenuProps & DOMAttributes<any>>;\n}\n\nconst MenuBarBase: FC<MenuBarProps> = ({ children, ...rest }: MenuBarProps) => {\n  const [activeMenu, setActiveMenu] = useState<string | null>(null);\n  const menuId = useUuid();\n\n  function mouseDown(id: string, e: React.MouseEvent) {\n    if (activeMenu === id) return;\n\n    setActiveMenu(id);\n    openDropdownMenu(id, e);\n  }\n\n  function mouseOver(id: string, e: React.MouseEvent) {\n    if (activeMenu !== null && activeMenu !== id) {\n      setActiveMenu(id);\n      openDropdownMenu(id, e);\n    }\n  }\n\n  function onMenuHidden(id: string) {\n    if (activeMenu === id) setActiveMenu(null);\n  }\n\n  const childrenWithProps = React.Children.map(children, child => {\n    const id = menuId + '_' + (child.props.id || child.props.label);\n\n    return React.cloneElement(child, {\n      active: activeMenu === id,\n      id,\n      onMouseDown: (e: React.MouseEvent) => mouseDown(id, e),\n      onMouseOver: (e: React.MouseEvent) => mouseOver(id, e),\n      onClick: (e: React.MouseEvent) => e.stopPropagation(),\n      onMenuHidden: () => onMenuHidden(id),\n    });\n  });\n\n  return <div {...rest}>{childrenWithProps}</div>;\n};\n\nexport const MenuBar = styled(MenuBarBase)`\n  display: flex;\n  background: #ece9d8;\n  border-bottom: 1px solid white;\n  font-family: 'Tahoma';\n  font-size: 11px;\n  flex-wrap: wrap;\n`;\n","import React from 'react';\nimport { eventManager } from 'react-contexify/lib/utils/eventManager';\nimport { DISPLAY_MENU } from 'react-contexify/lib/utils/actions';\n\nexport interface Anchor {\n  x: number;\n  y: number;\n}\n\nexport const Anchors: Readonly<{ [key: string]: Anchor }> = {\n  Center: { x: 0.5, y: 0.5 },\n  TopLeft: { x: 0, y: 0 },\n  TopRight: { x: 1, y: 0 },\n  BottomRight: { x: 1, y: 1 },\n  BottomLeft: { x: 0, y: 1 },\n};\n\nexport function openDropdownMenu(\n  id: string,\n  event: React.MouseEvent,\n  anchor: Anchor = Anchors.BottomLeft\n) {\n  const buttonRect = (event.currentTarget as Element).getBoundingClientRect();\n  event.clientX = buttonRect.left + buttonRect.width * anchor.x;\n  event.clientY = buttonRect.top + buttonRect.height * anchor.y - 1;\n\n  // we can't use contextMenu.show() as it uses nativeEvent which we can't mutate\n  eventManager.emit(DISPLAY_MENU(id), event);\n}\n","import React, { ReactNode } from 'react';\nimport { Menu } from 'react-contexify';\nimport classNames from 'classnames';\nimport styled from 'styled-components/macro';\n\nconst StyledMenuBarMenu = styled.div`\n  color: black;\n  padding: 3px 6px;\n\n  &:hover,\n  &.active {\n    background: rgb(49, 106, 197);\n    color: white;\n  }\n\n  &:not(:last-child) {\n    margin-right: 1px;\n  }\n`;\n\nexport interface MenuProps {\n  label: string;\n  id?: string;\n  active?: boolean;\n  children: ReactNode;\n  onMenuHidden?: () => void;\n}\n\nexport const MenuBarMenu: React.FC<MenuProps> = ({\n  active,\n  label,\n  id,\n  children,\n  onMenuHidden,\n  ...rest\n}) => {\n  return (\n    <React.Fragment>\n      <StyledMenuBarMenu className={classNames({ active })} {...rest}>\n        {label}\n      </StyledMenuBarMenu>\n\n      <Menu id={id || label} onHidden={onMenuHidden}>\n        {children || <div />}\n      </Menu>\n    </React.Fragment>\n  );\n};\n"],"sourceRoot":""}