{"version":3,"sources":["apps/mediaplayer/assets/media.png","apps/mediaplayer/MediaMenuBar.tsx","apps/mediaplayer/MediaPlayerWindow.tsx","apps/mediaplayer/index.tsx","misc/hooks/useUuid.tsx","widgets/menubar/MenuBar.tsx","misc/openDropdownMenu.tsx","widgets/menubar/MenuBarMenu.tsx"],"names":["module","exports","MediaMenuBar","window","useContext","WindowContext","MenuBar","MenuBarMenu","label","onClick","destroy","MediaPlayerWindow","path","fileSystem","OSContext","useState","src","setSrc","videoRef","useRef","useEffect","data","readFileSync","blob","Blob","type","url","URL","createObjectURL","revokeObjectURL","err","console","error","style","display","flexDirection","height","ref","controls","autoPlay","flexGrow","maxWidth","maxHeight","width","background","margin","objectFit","padding","MediaPlayerApp","args","a","nodePath","BFSRequire","fileName","basename","windowSize","Math","min","innerWidth","innerHeight","this","os","windowManager","create","title","metadata","name","icon","rect","left","max","top","minSize","body","fileExtensions","useUuid","uuidv4","current","styled","children","rest","activeMenu","setActiveMenu","menuId","childrenWithProps","React","Children","map","child","id","props","cloneElement","active","onMouseDown","e","openDropdownMenu","mouseDown","onMouseOver","mouseOver","stopPropagation","onMenuHidden","Anchors","Center","x","y","TopLeft","TopRight","BottomRight","BottomLeft","event","anchor","buttonRect","currentTarget","getBoundingClientRect","clientX","clientY","eventManager","emit","DISPLAY_MENU","StyledMenuBarMenu","div","Fragment","className","classNames","onHidden"],"mappings":"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","file":"static/js/13.a15d3941.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import React, { useContext } from 'react';\nimport { MenuBar } from '../../widgets/menubar/MenuBar';\nimport { Item, Separator } from 'react-contexify';\nimport { WindowContext } from '../../windows/WindowManager';\nimport { MenuBarMenu } from '../../widgets/menubar/MenuBarMenu';\n\nexport const MediaMenuBar = () => {\n  const window = useContext(WindowContext)!;\n\n  return (\n    <MenuBar>\n      <MenuBarMenu label=\"File\">\n        <Item>Open...</Item>\n        <Separator />\n        <Item onClick={() => window.destroy()}>Exit</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"Playback\">\n        <Item>Play</Item>\n        <Item>Pause</Item>\n        <Item>Stop</Item>\n      </MenuBarMenu>\n\n      <MenuBarMenu label=\"Help\">\n        <Item>About Media Player</Item>\n      </MenuBarMenu>\n    </MenuBar>\n  );\n};\n","import React, { FC, useContext, useEffect, useRef, useState } from 'react';\nimport { OSContext } from '../../App';\nimport { MediaMenuBar } from './MediaMenuBar';\n\nexport interface MediaPlayerWindowProps {\n  path: string;\n}\n\nexport const MediaPlayerWindow: FC<MediaPlayerWindowProps> = ({ path }) => {\n  const { fileSystem } = useContext(OSContext)!;\n  const [src, setSrc] = useState<string | null>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  useEffect(() => {\n    try {\n      const data = fileSystem.readFileSync(path);\n      const blob = new Blob([data], { type: 'video/mp4' }); // también puede ser video/avi\n      const url = URL.createObjectURL(blob);\n      setSrc(url);\n\n      return () => {\n        URL.revokeObjectURL(url);\n      };\n    } catch (err) {\n      console.error('Error reading file:', err);\n      setSrc(null);\n    }\n  }, [path]);\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n      <MediaMenuBar />\n      {src ? (\n        <video\n          ref={videoRef}\n          src={src}\n          controls\n          autoPlay\n          style={{flexGrow: 1,maxWidth: '100%',maxHeight: '100%',width: 'auto',height: 'auto',background: 'black',display: 'block',margin: 'auto',objectFit: 'contain'}}\n        />\n      ) : (\n        <div style={{ padding: 10 }}>Could not load video file.</div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport icon from './assets/media.png'; // usa cualquier ícono tipo play o video\nimport { Program } from '../../Program.interface';\nimport { BFSRequire } from 'browserfs';\nimport { MediaPlayerWindow } from './MediaPlayerWindow';\n\nexport const MediaPlayerApp: Program = async function (args) {\n  const [path = '/C:/example.mp4'] = args;\n  const nodePath = BFSRequire('path');\n  const fileName = nodePath.basename(path);\n\n  const windowSize = {\n    width: Math.min(window.innerWidth, 480),\n    height: Math.min(window.innerHeight, 360),\n  };\n\n  this.os.windowManager.create({\n    title: `${fileName || 'Untitled'} - ${MediaPlayerApp.metadata.name}`,\n    icon: MediaPlayerApp.metadata.icon,\n    rect: {\n      left: Math.max(0, window.innerWidth * 0.3 - windowSize.width / 2),\n      top: Math.max(0, window.innerHeight * 0.3 - windowSize.height / 2),\n      ...windowSize,\n    },\n    minSize: {\n      width: 200,\n      height: 150,\n    },\n    body: <MediaPlayerWindow path={path} />,\n  });\n};\n\nMediaPlayerApp.metadata = {\n  name: 'Media Player',\n  icon,\n  fileExtensions: {\n    '.mp4': icon,\n    '.avi': icon,\n  },\n};\n","import { useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function useUuid(): string {\n  return useRef<string>(uuidv4()).current;\n}\n","import React, {\n  useState,\n  ReactElement,\n  DOMAttributes,\n  FC,\n  HTMLAttributes,\n} from 'react';\nimport { useUuid } from '../../misc/hooks/useUuid';\nimport { openDropdownMenu } from '../../misc/openDropdownMenu';\nimport styled from 'styled-components/macro';\nimport { MenuProps } from './MenuBarMenu';\n\nexport interface MenuBarProps extends HTMLAttributes<HTMLDivElement> {\n  children:\n    | ReactElement<MenuProps & DOMAttributes<any>>[]\n    | ReactElement<MenuProps & DOMAttributes<any>>;\n}\n\nconst MenuBarBase: FC<MenuBarProps> = ({ children, ...rest }: MenuBarProps) => {\n  const [activeMenu, setActiveMenu] = useState<string | null>(null);\n  const menuId = useUuid();\n\n  function mouseDown(id: string, e: React.MouseEvent) {\n    if (activeMenu === id) return;\n\n    setActiveMenu(id);\n    openDropdownMenu(id, e);\n  }\n\n  function mouseOver(id: string, e: React.MouseEvent) {\n    if (activeMenu !== null && activeMenu !== id) {\n      setActiveMenu(id);\n      openDropdownMenu(id, e);\n    }\n  }\n\n  function onMenuHidden(id: string) {\n    if (activeMenu === id) setActiveMenu(null);\n  }\n\n  const childrenWithProps = React.Children.map(children, child => {\n    const id = menuId + '_' + (child.props.id || child.props.label);\n\n    return React.cloneElement(child, {\n      active: activeMenu === id,\n      id,\n      onMouseDown: (e: React.MouseEvent) => mouseDown(id, e),\n      onMouseOver: (e: React.MouseEvent) => mouseOver(id, e),\n      onClick: (e: React.MouseEvent) => e.stopPropagation(),\n      onMenuHidden: () => onMenuHidden(id),\n    });\n  });\n\n  return <div {...rest}>{childrenWithProps}</div>;\n};\n\nexport const MenuBar = styled(MenuBarBase)`\n  display: flex;\n  background: #ece9d8;\n  border-bottom: 1px solid white;\n  font-family: 'Tahoma';\n  font-size: 11px;\n  flex-wrap: wrap;\n`;\n","import React from 'react';\nimport { eventManager } from 'react-contexify/lib/utils/eventManager';\nimport { DISPLAY_MENU } from 'react-contexify/lib/utils/actions';\n\nexport interface Anchor {\n  x: number;\n  y: number;\n}\n\nexport const Anchors: Readonly<{ [key: string]: Anchor }> = {\n  Center: { x: 0.5, y: 0.5 },\n  TopLeft: { x: 0, y: 0 },\n  TopRight: { x: 1, y: 0 },\n  BottomRight: { x: 1, y: 1 },\n  BottomLeft: { x: 0, y: 1 },\n};\n\nexport function openDropdownMenu(\n  id: string,\n  event: React.MouseEvent,\n  anchor: Anchor = Anchors.BottomLeft\n) {\n  const buttonRect = (event.currentTarget as Element).getBoundingClientRect();\n  event.clientX = buttonRect.left + buttonRect.width * anchor.x;\n  event.clientY = buttonRect.top + buttonRect.height * anchor.y - 1;\n\n  // we can't use contextMenu.show() as it uses nativeEvent which we can't mutate\n  eventManager.emit(DISPLAY_MENU(id), event);\n}\n","import React, { ReactNode } from 'react';\nimport { Menu } from 'react-contexify';\nimport classNames from 'classnames';\nimport styled from 'styled-components/macro';\n\nconst StyledMenuBarMenu = styled.div`\n  color: black;\n  padding: 3px 6px;\n\n  &:hover,\n  &.active {\n    background: rgb(49, 106, 197);\n    color: white;\n  }\n\n  &:not(:last-child) {\n    margin-right: 1px;\n  }\n`;\n\nexport interface MenuProps {\n  label: string;\n  id?: string;\n  active?: boolean;\n  children: ReactNode;\n  onMenuHidden?: () => void;\n}\n\nexport const MenuBarMenu: React.FC<MenuProps> = ({\n  active,\n  label,\n  id,\n  children,\n  onMenuHidden,\n  ...rest\n}) => {\n  return (\n    <React.Fragment>\n      <StyledMenuBarMenu className={classNames({ active })} {...rest}>\n        {label}\n      </StyledMenuBarMenu>\n\n      <Menu id={id || label} onHidden={onMenuHidden}>\n        {children || <div />}\n      </Menu>\n    </React.Fragment>\n  );\n};\n"],"sourceRoot":""}